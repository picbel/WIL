// Metadata:
:description: Week I Learnt
:keywords: study, til, lwil
// Settings:
:doctype: book
:toc: left
:toclevels: 4
:sectlinks:
:icons: font
:hardbreaks:


[[section-202505]]
== 2025λ…„ 5μ›”

[[section-202505-1μΌ]]
1μΌ
===
### ν—¤μ΄μ¦μΊμ¤νΈ (Hazelcast)

ν—¤μ΄μ¦μΊμ¤νΈλ” **λ¶„μ‚° μΈλ©”λ¨λ¦¬ λ°μ΄ν„° κ·Έλ¦¬λ“(IMDG)**λ΅, λ¶„μ‚° ν™κ²½μ—μ„ κ³ μ†μ λ°μ΄ν„° μ €μ¥ λ° μ²λ¦¬λ¥Ό μ§€μ›ν•λ” ν”λ«νΌμ΄λ‹¤. 

- κ° λ…Έλ“λ” λ©”λ¨λ¦¬μ— λ°μ΄ν„°λ¥Ό μ €μ¥ν•λ©°, λ°μ΄ν„°λ” νν‹°μ…”λ‹(λ¶„ν• )λμ–΄ ν΄λ¬μ¤ν„° μ „μ²΄μ— λ¶„μ‚°λλ‹¤.
- λ…Έλ“ κ°„ ν†µμ‹ μ€ TCP κΈ°λ°μΌλ΅ μ΄λ¤„μ§€λ©°, νΉμ • ν‚¤μ— λ€ν• λ°μ΄ν„°λ” ν•΄μ‹ κΈ°λ°μΌλ΅ μ •ν•΄μ§„ λ…Έλ“μ— μ €μ¥λλ‹¤. 
- κ° νν‹°μ…μ€ ν•λ‚ μ΄μƒμ λ°±μ—… λ…Έλ“λ¥Ό κ°€μ§ μ μμ–΄, μ¥μ•  λ°μƒ μ‹ μλ™ νμΌμ¤λ²„κ°€ κ°€λ¥ν•λ„λ΅ μ„¤κ³„λμ–΄ μλ‹¤.

Hazelcastλ” μΊμ‹λ΅λ„ μ‚¬μ© κ°€λ¥ν•λ©°, Map, Queue, Topic, Lock, ExecutorService λ“± λ‹¤μ–‘ν• λ¶„μ‚° μλ£κµ¬μ΅°μ™€ μ—°μ‚° κΈ°λ¥μ„ μ κ³µν•©λ‹λ‹¤.

---

[[section-202505-3μΌ]]
3μΌ
===
### ν•μ΄λΈλ¦¬λ“ μ•”νΈν™”λ€?
ν•μ΄λΈλ¦¬λ“ μ•”νΈν™”λ” λ€μΉ­ν‚¤ μ•”νΈν™”μ™€ λΉ„λ€μΉ­ν‚¤ μ•”νΈν™”μ μ¥μ μ„ μ΅°ν•©ν• λ°©μ‹μ΄λ‹¤.

|===
| μ•”νΈ λ°©μ‹ | νΉμ§• | μ¥μ  | λ‹¨μ 
| **λ€μΉ­ν‚¤ μ•”νΈν™”** | κ°™μ€ ν‚¤λ΅ μ•”νΈν™”/λ³µνΈν™” | λΉ λ¦„, ν¨μ¨μ  | ν‚¤ μ „λ‹¬μ΄ μ–΄λ ¤μ›€
| **λΉ„λ€μΉ­ν‚¤ μ•”νΈν™”** | κ³µκ°ν‚¤λ΅ μ•”νΈν™”, κ°μΈν‚¤λ΅ λ³µνΈν™” | ν‚¤ κ³µμ  μ‰¬μ›€ | λλ¦¬κ³  κ³„μ‚° λΉ„μ© νΌ
|===

**ν•μ΄λΈλ¦¬λ“ μ•”νΈν™”λ” λ€μΉ­ν‚¤λ΅ μ‹¤μ  λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•κ³ , λ€μΉ­ν‚¤ μμ²΄λ” μμ‹ μμ κ³µκ°ν‚¤λ΅ μ•”νΈν™”ν•μ—¬ μ „μ†΅ν•λ‹¤.**

λ™μ‘ μμ‹ - ν΄λΌμ΄μ–ΈνΈ β†’ μ„λ²„λ΅ λ³΄μ•μ„ μ μ§€ν•λ©΄μ„ λ°μ΄ν„°λ¥Ό λ³΄λ‚Ό λ•:
ν•μ΄λΈλ¦¬λ“ μ•”νΈν™” μμ„

1. ν΄λΌμ΄μ–ΈνΈκ°€ λλ¤ν• λ€μΉ­ν‚¤(μ: AES ν‚¤) μƒμ„±
2. μ „μ†΅ν•  λ°μ΄ν„°λ¥Ό AES λ€μΉ­ν‚¤λ΅ μ•”νΈν™”
3. AES λ€μΉ­ν‚¤λ¥Ό μ„λ²„μ κ³µκ°ν‚¤(RSA λ“±)λ΅ μ•”νΈν™”
4. μ•”νΈν™”λ λ°μ΄ν„° + μ•”νΈν™”λ AESν‚¤λ¥Ό ν•¨κ» μ „μ†΅
5. μ„λ²„λ” κ°μΈν‚¤λ΅ AESν‚¤ λ³µνΈν™”, μ΄ AESν‚¤λ΅ μ‹¤μ  λ°μ΄ν„°λ¥Ό λ³µνΈν™”

λ€ν‘ μ‚¬μ© μμ‹ - HTTPS
HTTPSλ„ ν•μ΄λΈλ¦¬λ“ μ•”νΈν™”μ λ€ν‘μ μΈ μ
μ΄κΈ° TLS Handshakeμ—μ„ λ€μΉ­ν‚¤(μ„Έμ…ν‚¤)λ¥Ό ν‘μƒν•κ³ , μ΄ν›„ λ°μ΄ν„° ν†µμ‹ μ€ λΉ λ¥Έ λ€μΉ­ν‚¤ λ°©μ‹μΌλ΅ μ§„ν–‰ν•λ‹¤.

---

[[section-202505-5μΌ]]
5μΌ
===
### μμ°¨(Sequential) I/O, λλ¤(Random) I/O

HDDλ¥Ό κΈ°μ¤€μΌλ΅ μ„¤λ…ν•¨

#### λλ¤(Random) I/O
**λ°μ΄ν„°λ¥Ό μ„μμ μμ„λ΅ μ ‘κ·Ό(μ½κΈ°/μ“°κΈ°)ν•λ” λ°©μ‹**
HDDμ—μ„λ” λ°μ΄ν„°κ°€ λ¬Όλ¦¬μ μΌλ΅ μ„λ΅ λ–¨μ–΄μ§„ μ„μΉμ— μ΅΄μ¬ν•λ―€λ΅, λ””μ¤ν¬ ν—¤λ“κ°€ λ§¤λ² ν•΄λ‹Ή μ„μΉλ΅ μ΄λ™ν•΄μ•Ό ν•λ‹¤.

μλ¥Ό λ“¤μ–΄, 100κ°μ λ°μ΄ν„°λ¥Ό λλ¤ν•κ² μ½λ”λ‹¤λ©΄ λ””μ¤ν¬ ν—¤λ“λ” μµλ€ 100λ² μ΄λ™ν•΄μ•Ό ν•λ©°, μ΄μ— λ”°λΌ **νƒμƒ‰ μ‹κ°„(Seek Time)**κ³Ό **νμ „ μ§€μ—°(Rotational Latency)**μ΄ λ„μ λμ–΄ μ „μ²΄ μ²λ¦¬ μ†λ„κ°€ λ§¤μ° λλ ¤μ§„λ‹¤.
λν•, κ° λ°μ΄ν„° μ ‘κ·Όλ§λ‹¤ μ‹μ¤ν… μ½μ΄ λ°μƒν•μ—¬ μ»¤λ„ μ „ν™ λΉ„μ©λ„ μ¦κ°€ν•λ‹¤.

#### μμ°¨(Sequential) I/O
**λ°μ΄ν„°λ¥Ό μ—°μ†μ μΌλ΅(λ…Όλ¦¬μ , λ¬Όλ¦¬μ μΌλ΅) μ ‘κ·Όν•λ” λ°©μ‹**
μΌλ°μ μΌλ΅ νμΌμ„ μ²μλ¶€ν„° λκΉμ§€ μμ„λ€λ΅ μ½κ±°λ‚ μ“°λ” μ‘μ—…μ΄ μ΄μ— ν•΄λ‹Ήν•λ‹¤.

μμ°¨ μ ‘κ·Όμ€ λ””μ¤ν¬ ν—¤λ“κ°€ ν• λ²λ§ μ„μΉλ¥Ό λ§μ¶ ν›„, κ·Έ λ‹¤μ λ°μ΄ν„°λ“¤μ„ μ—°μ†μ μΌλ΅ μ²λ¦¬ν•  μ μμ–΄ λ§¤μ° ν¨μ¨μ μ΄λ‹¤.
λ…Όλ¦¬ μ£Όμ†κ°€ μ—°μ†λμ–΄ μμΌλ©΄, λ§¤ν•‘ ν…μ΄λΈ”μ„ ν• λ²λ§ μ΅°νν• λ’¤ λ¬Όλ¦¬μ  μ£Όμ†λ¥Ό μ—°μ†μ μΌλ΅ λ”°λΌκ° μ μμΌλ―€λ΅, I/O μ”μ²­ νμ λ° λ§¤ν•‘ λΉ„μ©μ΄ ν¬κ² μ¤„μ–΄λ“ λ‹¤.
μλ¥Ό λ“¤μ–΄, 100κ°μ λ°μ΄ν„°λ¥Ό μμ°¨μ μΌλ΅ μ½λ” κ²½μ°, 1λ²μ μ‹μ¤ν… μ½κ³Ό 1λ²μ λ””μ¤ν¬ νƒμƒ‰λ§μΌλ΅ λ¨λ‘ μ²λ¦¬ κ°€λ¥ν•λ‹¤.

μ¶”κ°€ μ„¤λ…

- SSDμ—μ„λ” λ””μ¤ν¬ ν—¤λ“κ°€ μ—†κΈ° λ•λ¬Έμ— λλ¤ I/Oμ™€ μμ°¨ I/Oμ μ„±λ¥ μ°¨μ΄κ°€ μ¤„μ–΄λ“ λ‹¤. ν•μ§€λ§ μ—¬μ „ν μμ°¨ I/Oκ°€ λ” λΉ λ¥΄λ©°, μ‹μ¤ν… μΊμ‹λ‚ λ‚΄λ¶€ λ³‘λ ¬ μ²λ¦¬ κµ¬μ΅°μ—μ„ μ λ¦¬ν•κ² μ‘μ©ν•¨.
- DBμ—μ„μ ν΄λ¬μ¤ν„°λ§ μΈλ±μ¤λ” μμ°¨ I/Oλ¥Ό μ λ„ν•μ—¬ λ²”μ„ μΏΌλ¦¬ μ„±λ¥μ„ μµμ ν™”ν•λ‹¤.
- Kafkaμ λ΅κ·Έ κµ¬μ΅°λ„ μμ°¨ μ“°κΈ°λ¥Ό ν†µν•΄ λ””μ¤ν¬ I/O μ„±λ¥μ„ κ·Ήλ€ν™”ν•λ©°, λ€μ©λ‰ λ°μ΄ν„° μ²λ¦¬μ— μ λ¦¬ν• κµ¬μ΅°μ΄λ‹¤.

[cols="1,1,1", options="header"]
|===
| ν•­λ©
| λλ¤ I/O
| μμ°¨ I/O

| λ””μ¤ν¬ ν—¤λ“ μ΄λ™
| λ§¤ μ ‘κ·Όλ§λ‹¤ μ΄λ™ β†’ λλ¦Ό
| μ²μ ν• λ²λ§ μ΄λ™ β†’ λΉ λ¦„

| μ‹μ¤ν… μ½ νμ
| λ°μ΄ν„° μλ§νΌ λ°μƒ
| 1ν νΉμ€ μµμ† νμ

| μ„±λ¥
| λλ¦Ό (I/O λ³‘λ© μ›μΈ)
| λΉ λ¦„ (κ³ μ† μ²λ¦¬ κ°€λ¥)

| λ…Όλ¦¬-λ¬Όλ¦¬ μ£Όμ† λ§¤ν•‘
| λ§¤λ² λ§¤ν•‘ ν•„μ”
| μµμ΄ 1ν λ§¤ν•‘ ν›„ μ—°μ† μ²λ¦¬ κ°€λ¥

| μ‚¬μ© μ
| Secondary Index Scan, OLTP νΈλμ­μ… μ²λ¦¬
| Clustering Index, Kafka λ΅κ·Έ μ €μ¥, νμΌ μΌκ΄„ μ²λ¦¬
|===


---

[[section-202505-8μΌ]]
8μΌ
===
### Thread vs supplyAsync λΉ„κµ

μλ°”μ λΉ„λ™κΈ°λ¥Ό μ„ν• μ“°λ λ“ κ°μ²΄ μ‚¬μ©λ²•

#### Thread
```java
Thread t = new Thread(() -> {
    // μ‘μ—… μν–‰
});
t.start();
```

νΉμ§•
- μ§μ ‘ μ“°λ λ“ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  μ‹¤ν–‰ (start() νΈμ¶ ν•„μ)
- κ°λ°μκ°€ μ“°λ λ“ μƒμ„± λ° μƒλ…μ£ΌκΈ° μ μ–΄μ— κ΄€μ—¬ν•΄μ•Ό ν•¨
- μ¬μ‚¬μ© λ¶κ°€, λ§¤λ² μƒ μ“°λ λ“ μƒμ„±
- λ¦¬ν„΄κ°’ μ—†μ (Runnable κΈ°λ°)

μ‚¬μ© μμ‹
- μ•„μ£Ό λ‹¨μν• λΉ„λ™κΈ° μ‘μ—…
- μΌνμ„± λ°±κ·ΈλΌμ΄λ“ μ‘μ—…

#### CompletableFuture.supplyAsync

```java
CompletableFuture<String> future = CompletableFuture.supplyAsync(() -> {
    // μ‘μ—… μν–‰ ν›„ κ²°κ³Ό λ°ν™
    return "κ²°κ³Ό";
});

```

νΉμ§•
- **μ“°λ λ“ ν’€(ForkJoinPool.commonPool)**μ„ λ‚΄λ¶€μ μΌλ΅ μ‚¬μ© (μ¬μ‚¬μ© κ°€λ¥)
- λΉ„λ™κΈ° μ‹¤ν–‰ + κ²°κ³Ό λ°ν™ κ°€λ¥ (Supplier κΈ°λ°)
- μ²΄μ΄λ‹ μ§€μ› (thenApply, thenAccept, exceptionally λ“±μΌλ΅ μ΅°ν•© κ°€λ¥)
- μ‘μ—…μ΄ μμ™Έ λ°μƒμ‹ .handle, .exceptionally λ“±μΌλ΅ μ²λ¦¬ κ°€λ¥

μ‚¬μ© μμ‹
- λΉ„λ™κΈ° μ‘μ—… κ²°κ³Όκ°€ ν•„μ”ν• κ²½μ° (μ: API νΈμ¶, κ³„μ‚°)
- λΉ„λ™κΈ° νλ¦„ μ μ–΄ λ° μμ™Έ μ²λ¦¬ ν•„μ” μ‹
- μ‘μ—… μ²΄μ΄λ‹μΌλ΅ λ³µμ΅ν• λΉ„λ™κΈ° λ΅μ§ κµ¬μ„±ν•  λ•

μ”μ•½
CompletableFuture.supplyAsync()μ™€ new Thread()μ **κ°€μ¥ λ³Έμ§μ μΈ μ°¨μ΄μ μ€ "μ“°λ λ“ ν’€ μ‚¬μ© μ—¬λ¶€"**
[cols="1,1,1", options="header"]
|===
| ν•­λ©
| `new Thread()`
| `CompletableFuture.supplyAsync()`

| μ“°λ λ“ μ¬μ‚¬μ©
| λ§¤λ² μƒλ΅ μƒμ„±λ¨
| μ“°λ λ“ν’€μ—μ„ κΊΌλ‚΄ μ‚¬μ©

| λ¦¬μ†μ¤ ν¨μ¨
| λΉ„ν¨μ¨μ  (κ³Όλ„ν• μ“°λ λ“ μƒμ„± μ„ν—)
| ν¨μ¨μ  (ν’€λ΅ κ΄€λ¦¬λ¨)

| π“ ν™•μ¥μ„±
| β λ‚®μ (λ§μ•„μ§€λ©΄ OOM κ°€λ¥)
| β… λ†’μ (ν’€ ν¬κΈ° μ΅°μ  κ°€λ¥)

| π”„ κΈ°λ¥ ν™•μ¥μ„± (μ²΄μ΄λ‹, μμ™Έμ²λ¦¬ λ“±)
| μ—†μ
| λ§μ (`then`, `handle` λ“±)
|===

---

### μ¤λ λ“ ν’€ ν¬ν™” μ •μ±…

---

[[section-202505-9μΌ]]
9μΌ
===
μ»¤λ²„λ§ μΈλ±μ¤
